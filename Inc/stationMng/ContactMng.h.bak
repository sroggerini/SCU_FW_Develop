// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
//
//  File:           ContactMng.h
//  Author:         Vania
//  Date:           06/11/2020
//
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
#ifndef _CONTACTMNG_H
#define _CONTACTMNG_H
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global include ------------------------------------------------------------------------------------------------------------------------- //
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global defines ------------------------------------------------------------------------------------------------------------------------- //
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global typedef ------------------------------------------------------------------------------------------------------------------------- //
typedef enum // possible value of contact_state
{
CONTACT_STATE_NULL = 0, // idle contact_state
CONTACT_STATE_OPEN,
CONTACT_STATE_CLOSE,
CONTACT_DRIVE_OPEN,
CONTACT_DRIVE_CLOSE
}contact_state_en;

typedef enum
{
CONTACT_EVENT_NULL = 0,
CONTACT_CONTROL_START,
CONTACT_CONTROL_STOP,
CONTACT_OPEN_REQ,
CONTACT_CLOSE_REQ,
CONTACT_IO_UPD,
CONTACT_STATE_TIM_EXPIRED,
RCBO_STATE_TIM_EXPIRED
}ContactMngEvent_en;

/* queue info structure */
typedef __packed struct
{
ContactMngEvent_en    ContactMngEvent;
}ContactMngMsg_st;
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global constats ------------------------------------------------------------------------------------------------------------------------ //
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global references ---------------------------------------------------------------------------------------------------------------------- //
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global function prototypes ------------------------------------------------------------------------------------------------------------- //
void send_to_contact(uint8_t contact_event);
void contact_anom0_update(void);
contact_state_en contact_state_get(void);
void ContactMngTask(void *pvParameters);
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
#endif
