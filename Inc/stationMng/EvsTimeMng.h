// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
//																																									   //
//	File:		EvsTimeMng.h																																		   //
//	Author:		Vania																																				   //
//	Date:		06/11/2020																																			   //
//                                                          										                                                         		   //
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
#ifndef _EVSTIMEMNG_H
#define _EVSTIMEMNG_H
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global include ------------------------------------------------------------------------------------------------------------------------- //
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global defines ------------------------------------------------------------------------------------------------------------------------- //
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global typedef ------------------------------------------------------------------------------------------------------------------------- //
typedef enum
{
EVSTIME_EVENT_NULL = 0,
EVSTIME_BUSY_START,
EVSTIME_BUSY_STOP,
EVSTIME_CHARGING_START,
EVSTIME_CHARGING_STOP,
EVSTIME_RTC_BACKUP_START,
EVSTIME_CARD_TIME_UPDATE,
EVSTIME_SEM_CHARGING_START,
EVSTIME_SEM_CHARGING_STOP,
EVSTIME_SEM_CHARGING_RESET,
EVSTIME_TIMEOUT
}EvsTimeMngEvent_en;

/* queue info structure */
typedef __packed struct
{
EvsTimeMngEvent_en	EvsTimeMngEvent;
}EvsTimeMngMsg_st;
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global constats ------------------------------------------------------------------------------------------------------------------------ //
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global references ---------------------------------------------------------------------------------------------------------------------- //
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //

// -------------------------- global function prototypes ------------------------------------------------------------------------------------------------------------- //
void send_to_evstime(uint8_t evstime_event);
uint8_t busy_time_run_get(void);
uint8_t charging_time_run_get(void);
uint32_t evstime_busy_get(void);
char evstime_time_get(uint8_t *time_array);
void rtc_backup_get_reset(void);
void EvsTimeMngTask(void *pvParameters);
// ------------------------------------------------------------------------------------------------------------------------------------------------------------------- //
#endif
